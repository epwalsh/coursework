\documentclass[12pt]{article}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{parskip}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage[headheight=15pt]{geometry}
\geometry{a4paper, left=20mm, right=20mm, top=30mm, bottom=30mm}
\usepackage{graphicx}
\usepackage{bm} % for bold font in math mode - command is \bm{text}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{amssymb} % for stacked arrows and other shit
\pagestyle{fancy}
\usepackage{changepage}
\usepackage{mathcomp}
\usepackage{tcolorbox}
% \usepackage{eufrak}

\declaretheoremstyle[headfont=\normalfont]{normal}
\declaretheorem[style=normal]{Theorem}
\declaretheorem[style=normal]{Proposition}
\declaretheorem[style=normal]{Lemma}
\newcounter{ProofCounter}
\newcounter{ClaimCounter}[ProofCounter]
\newcounter{SubClaimCounter}[ClaimCounter]
\newenvironment{Proof}{\stepcounter{ProofCounter}\textsc{Proof.}}{\hfill$\square$}
\newenvironment{Solution}{\stepcounter{ProofCounter}\textbf{Solution:}}{\hfill$\square$}
\newenvironment{claim}[1]{\vspace{1mm}\stepcounter{ClaimCounter}\par\noindent\underline{\bf Claim \theClaimCounter:}\space#1}{}
\newenvironment{claimproof}[1]{\par\noindent\underline{Proof of claim \theClaimCounter:}\space#1}{\hfill $\blacksquare$ Claim \theClaimCounter}
\newenvironment{subclaim}[1]{\stepcounter{SubClaimCounter}\par\noindent\emph{Subclaim \theClaimCounter.\theSubClaimCounter:}\space#1}{}
% \newenvironment{subclaimproof}[1]{\begin{adjustwidth}{2em}{0pt}\par\noindent\emph{Proof of subclaim \theClaimCounter.\theSubClaimCounter:}\space#1}{\hfill
% $\blacksquare$ \emph{Subclaim \theClaimCounter.\theSubClaimCounter}\vspace{5mm}\end{adjustwidth}}
\newenvironment{subclaimproof}[1]{\par\noindent\emph{Proof of subclaim \theClaimCounter.\theSubClaimCounter:}\space#1}{\hfill
$\Diamond$ \emph{Subclaim \theClaimCounter.\theSubClaimCounter}}

\allowdisplaybreaks{}

% chktex-file 3

\lhead{Evan P. Walsh}
\chead{\textsc{Math 502 Assignment XII}}
\rhead{\thepage}
\cfoot{}

\begin{document}\thispagestyle{empty}
\begin{center}
  \Large \textsc{math 502 -- ASSIGNMENT XII -- spring 2017} \\ 
  \vspace{5mm}
  \large Evan Pete Walsh
\end{center}

\subsection*{1}
\begin{tcolorbox}
  Let $f : [0,1] \rightarrow \mathbb{R}$ be defined by $f(x) := 2x + 1$. Let $\mathcal{A}$ be the algebra over $\mathbb{R}$ generated by $f$. Thus, a
  typical element of $\mathcal{A}$ is a function $g := a_1 f + a_2 f^2 + \dots + a_n f^n$ for $a_j \in \mathbb{R}$, $1 \leq j \leq n$, and $n \in
  \mathbb{N}$. Is $\mathcal{A}$ dense in $C([0,1], \mathbb{R})$?
\end{tcolorbox}
\begin{Solution}
  
\end{Solution}


\newpage
\subsection*{2}
\begin{tcolorbox}
  Let $f : [0, \infty) \rightarrow \mathbb{R}$ be defined by $f(x) := e^{-x}$. Is the algebra generated by $f$ dense in $C_0([0,\infty), \mathbb{R})$?
\end{tcolorbox}
\begin{Solution}
  Let $\mathcal{A}$ denote the algebra generated by $f$.
  We aim to apply Theorem 4.3.13. Well, clearly $[0, \infty)$ is locally compact. Further, since $f > 0$ is strictly
  decreasing over its entire domain, conditions (a) and (b) are satisfied by taking $f$ itself. Condition (c) is trivially satisfied as well since
  $\mathbb{F} = \mathbb{R}$. Hence Theorem 4.3.13 applies and we are done.
\end{Solution}


\newpage
\subsection*{3}
\begin{tcolorbox}
  Let $S \subset \mathbb{R}^2$, with the topology induced from the metric topology of $\mathbb{R}^2$,
  \[
    S := \{(x,y) : 1 \leq x \leq 2, 1 \leq y \leq 2\}.
  \]
  Let $f, g : S \rightarrow \mathbb{R}$ be defined by $f(x,y) := 1 / x$ and $g(x,y) := 1 / y$. Let $\mathcal{A}$ be the algebra of functions generated
  by $f$ and $g$. Is $\mathcal{A}$ dense in $C(S, \mathbb{R})$?
\end{tcolorbox}
\begin{Solution}
  
\end{Solution}


\newpage
\subsection*{4}
\begin{tcolorbox}
  The unit circle $\mathbb{T}$ can be expressed as the set of complex numbers $z$ such that $|z| = 1$. Let $\mathcal{A}$ be the algebra of functions
  $f : \mathbb{T} \rightarrow \mathbb{C}$ such that $f(z) = \sum_{-n}^{n}a_j z^{j}$, $a_j \in \mathbb{C}$, $1 \leq j \leq n$, $n \in \mathbb{N}$. Is
  $\mathcal{A}$ dense in $C(\mathbb{T}, \mathbb{C})$?
\end{tcolorbox}
\begin{Solution}
  
\end{Solution}


\newpage
\subsection*{5 [Sec. 4.3 \#2, 5, 6, 8]}
\begin{Solution}
  \begin{enumerate}
    \item[\#2.] $(\Rightarrow)$ Suppose $K$ is zero-dimensional. Note for any $f : K \rightarrow \mathbb{F}$, $f$ is idempotent if and only if $f[K]
      \subset \{0, 1\}$. Hence $f g$ is idempotent whenever $f$ and $g$ are idempotent. Thus if $f$ and $g$ are both linear combinations of
      idempotents, then $f g$ is also a linear combination of idempotents. So the linear span of idempotents is actually an algebra. Let's call this
      algebra $\mathcal{A}$.

      \begin{claim}
        The idempotents are a subset of $C(K, \mathbb{F})$.
      \end{claim}
      \begin{claimproof}
        Let $f : K \rightarrow \mathbb{F}$ be idempotent. Then $f$ is of the form $\chi_{A}$, the characteristic function of some set $A \subset
        K$. If $A$ is clopen then clearly $f \equiv \chi_{A}$ is continuous. Hence it remains to show that $A$ is clopen.

        Since $K$ is zero-dimensional, 
        for each $x \in A$, $y \in K - A$, there exists $U_{x,y}, V_{x,y} \in \tau$ disjoint such that $x \in U_{x,y}$, $y \in V_{x,y}$, and $U_{x,y} \cup
        V_{x,y} = K$ (thus $U_{x,y}, V_{x,y}$
        clopen). Now fix $y \in K
        - A$ and set 
        \[
          V_y := \bigcap \left\{ V_{x,y} : x \in A  \right\}.
        \]
        Then $V_y \subset K - A$ and since each $V_{x,y}$ clopen, $V_y$ is necessarily clopen as well. Now let 
        \[
          V := \bigcup_{y \in K-A}V_y.
        \]
        Then $V$ is also clopen and we claim that $V = K - A$. Indeed, if $y \in K - A$, then $y \in V_y$ and thus $y \in V$. Hence $A = K - V$ is
        clopen.
      \end{claimproof}

      By Claim 1, the linear span of idempotents $\mathcal{A}$ is a subalgebra of $C(K, \mathbb{F})$. We will now show that the remaining conditions for the
      (complex or real) Stone-Weierstrass theorem are satisfied.

      \begin{claim}
        (a) $1 \in \mathcal{A}$.
      \end{claim}
      \begin{claimproof}
        $1 \equiv \chi_{K} \in \mathcal{A}$.
      \end{claimproof}

      \begin{claim}
        (b) For any $x, y \in K$ with $x \neq y$, there exists $f \in \mathcal{A}$ such that $f(x) \neq f(y)$.
      \end{claim}
      \begin{claimproof}
        Let $x \neq y$. Then there exists $U, V \in \tau$ disjoint such that $x \in U$, $y \in \tau$ and $U \cup V = K$. Hence $\chi_{U} \in
        \mathcal{A}$ and $\chi_{U}(x) = 1 \neq 0 = \chi_{U}(y)$.
      \end{claimproof}

      If $\mathbb{F} = \mathbb{R}$, then we are done. If not, then the following claim establishes the applicability of the complex form of the
      Stone-Weierstrass theorem.

      \begin{claim}
        (c) If $f \in \mathcal{A}$, then $\bar{f} \in \mathcal{A}$.
      \end{claim}
      \begin{claimproof}
        Since any idempotent is real-valued, the complex conjugate of an idempotent is equal to itself, and thus is idempotent. Hence the complex conjugate of a linear
        combination of idempotents is also a linear combination of idempotents since complex conjugation is linear.
      \end{claimproof}

      This establishes the first direction of the proof.

      $(\Leftarrow)$ Now suppose the linear span of idempotents is dense in $C(K, \mathbb{F})$. Let $x, y \in K$ such that $x \neq y$. Since $K$ is
      compact and Hausdorff, $K$ is normal, and thus completely regular. Hence there exists continuous $f : K \rightarrow [0,1]$ such that $f(x) = 1$ and
      $f(y) = 0$.

      Then since $f \in C(K, \mathbb{F})$, there exists $g \in \mathcal{A}$, the linear span of idempotents, such that $\|f - g\|_{\infty} < 1$.
      In particular, we can express $g$ as 
      \[
        g = \sum_{j=1}^{n}a_j \chi_{A_j},
      \]
      where $0 \neq a_j \in \mathbb{F}$ and $\emptyset \neq A_j \subset K$ for each $j = 1, \dots, n$. Let $r := \frac{1}{2}\min \{1, |a_j|, \dots, |a_n|\}$.
      Then by the continuity of $g$ and definition of $r$,
      \[
        V := g^{-1}[B_r] = g^{-1}[\overline{B}_r] 
      \]
      is clopen and $y \in V, x \notin V$. Then set $U := K - V$. Hence $U, V \in \tau$ are disjoint with $x \in U$, $y \in V$ and $U \cup V = K$. Since $x$ and
      $y$ were arbitrary, $K$ is zero-dimensional.

      \vspace{1cm}

    \item[\#5.] $(\Rightarrow)$ Suppose $X$ is compact. Let $\epsilon > 0$ and $K := X$. Since $X - K = \emptyset$ and $K$ compact, the condition for
      $1 \in C_0(X, \mathbb{F})$ is  trivially satisfied. \\

      $(\Leftarrow)$ Now suppose $1 \in C_0(X, \mathbb{F})$. Then for $\epsilon := 1/2$, there exists a compact set $K \subset X$ such that for all $x
      \in X - K$, $|1(x)| \equiv 1 < \epsilon$. But since $\epsilon < 1$, $X - K = \emptyset$. Hence $X = K$ is compact.

      \vspace{1cm}

    \item[\#6.] $(\Rightarrow)$ Suppose $X$ is $\sigma$-compact. Then there exists a sequence of compact sets $K_0, K_1, K_2, \dots \subset X$ such
      that $X = \cup_{n=0}^{\infty}K_n$. Without loss of generality we can assume $K_0 \subset K_1 \subset K_2 \subset \dots$ (otherwise take $K_n :=
      \cup_{j \leq n} K_j$). 
      
      Now, since $X$ is locally compact and Hausdorff, we can let $X_{\infty}$ be the one-point compactification of $X$. Identify $X$ with $\iota[X]$.
      Note that $X_{\infty}$ is
      normal since it is compact and Hausdorff. Thus by Urysohn's lemma, for each $n \in \mathbb{N}$, we can find a continuous function $f_{n} :
      X_{\infty} \rightarrow [0,2^{-(n+1)}]$ such that $f_{n}\big|_{\{\infty\}} \equiv 0$ and $f_{n}\big|_{K_n} \equiv 2^{-n}$. Now let $f : X \rightarrow
      \mathbb{R}$ be defined by 
      \[
        f(x) := \sum_{n=0}^{\infty} f_{n}\big|_{X}(x).
      \]
      \begin{claim}
        $0 < f(x) \leq 1$ for all $x \in X$.
      \end{claim}
      \begin{claimproof}
        Let $x \in X$. Then there exists $N \in \mathbb{N}$ such that $x \in K_N$. Hence 
        \[
          0 < 2^{-(N+1)} < f(x) \leq \sum_{n=0}^{\infty}2^{-(n+1)} = 1.
        \]
      \end{claimproof}

      \begin{claim}
        $f$ is continuous.
      \end{claim}
      \begin{claimproof}
        It suffices to show that $f^{-1}[(a,\infty)]$ is open for any $a \in \mathbb{R}$. Let $g_{N}(x) :=  \sum_{n=0}^{N}f_n\big|_{X}(x)$, $n \in
        \mathbb{N}$. Clearly each $g_N$ is continuous, so for each $a \in \mathbb{R}$,
        \begin{align*}
          f^{-1}[(a,\infty)] & = \left\{ x \in X : \exists N \in \mathbb{N} \text{ s.t. } \sum_{n=0}^{N}f_{n}\big|_{X}(x) > a \right\} \\
          & = \left\{ x \in X : \exists N \in \mathbb{N} \text{ s.t. } g_{N}(x) > a \right\} \\
          & = \bigcup_{n=0}^{\infty}g_{N}^{-1}[(a,\infty)]
        \end{align*}
        is open in $X$.
      \end{claimproof}

      \begin{claim}
        For each $n \in \mathbb{N}$, $f_n\big|_{X}$ vanishes at $\infty$.
      \end{claim}
      \begin{claimproof}
        Since $f_n(\infty) = 0$.
      \end{claimproof}

      \begin{claim}
        $f$ vanishes at infinity.
      \end{claim}
      \begin{claimproof}
        Let $\epsilon > 0$. Then let $N \in\mathbb{N}$ such that $2^{-N} < \epsilon / 2$. By Claim 7, for each $0 \leq n \leq N - 1$ we can find a compact
        set $K_n'$ such that $f(x) < \epsilon / (2N)$ for all $x \in X - K_{n}'$. Then let $K := \cup_{n=0}^{N-1}K_n'$. So for $x \in X - K$,
        \[
          f(x) = \sum_{n=0}^{N-1}f_n\big|_{X}(x) + \sum_{n=N}^{\infty}f_n\big|_{X}(x) \leq N \frac{\epsilon}{2N} + \sum_{n=N}^{\infty}2^{-(n+1)} = 
          \frac{\epsilon}{2} + 2^{-N} < \epsilon.
        \]
      \end{claimproof}

      By claims 5 - 8, we have established the first direction of the proof. \\

      $(\Leftarrow)$ Suppose there exists $f \in C_0(X, \mathbb{R})$ with $0 < f(x) \leq 1$ for all $x \in X$. Then for each $n \in \mathbb{N}$, there
      exists compact $K_n \subset X$ such that $|f(x)| < 2^{-n}$ for all $x \in X - K_n$. We claim that $X = \cup_{n=0}^{\infty} K_n$. 
      
      Let $x \in X$
      be arbitrary. Since $f(x) > 0$, there exists $n_x \in \mathbb{N}$ such that $2^{-n} < f(x)$ for all $n \geq n_x$. Then for $n \geq n_x$, $x \in
      K_n$ since $f(y) < 2^{-n} < f(x)$ for all $y \in X - K_n$. Hence $x \in \cup_{n=0}^{\infty}K_n$.

      \vspace{1cm}

    \item[\#8.]

  \end{enumerate}
\end{Solution}

\end{document}
